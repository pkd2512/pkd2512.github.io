import{s as fe,B as ue,M as W,f as p,a as _e,g as q,h as N,d as x,c as ae,aa as O,i as de,x as T,D as ge,N as X,O as Y,P as Z,o as he,p as G}from"./scheduler.b148b36d.js";import{S as be,i as me,a as $,t as ee}from"./index.c3e6ad02.js";import{g as ye}from"./globals.d8c4587f.js";const{window:ne}=ye,Ee=t=>({}),te=t=>({}),we=t=>({}),oe=t=>({});function Re(t){let n,e,r,f,_,u,a,S,C;ue(t[21]);const h=t[20].background,l=W(h,t,t[19],oe),b=t[20].foreground,i=W(b,t,t[19],te);return{c(){n=p("svelte-scroller-outer"),e=p("svelte-scroller-background-container"),r=p("svelte-scroller-background"),l&&l.c(),_=_e(),u=p("svelte-scroller-foreground"),i&&i.c(),this.h()},l(s){n=q(s,"SVELTE-SCROLLER-OUTER",{class:!0});var c=N(n);e=q(c,"SVELTE-SCROLLER-BACKGROUND-CONTAINER",{class:!0,style:!0});var m=N(e);r=q(m,"SVELTE-SCROLLER-BACKGROUND",{class:!0});var y=N(r);l&&l.l(y),y.forEach(x),m.forEach(x),_=ae(c),u=q(c,"SVELTE-SCROLLER-FOREGROUND",{class:!0});var g=N(u);i&&i.l(g),g.forEach(x),c.forEach(x),this.h()},h(){O(r,"class","svelte-1yjh2jm"),O(e,"class","background-container svelte-1yjh2jm"),O(e,"style",f=""+(t[5]+t[4])),O(u,"class","svelte-1yjh2jm"),O(n,"class","svelte-1yjh2jm")},m(s,c){de(s,n,c),T(n,e),T(e,r),l&&l.m(r,null),t[22](r),T(n,_),T(n,u),i&&i.m(u,null),t[23](u),t[24](n),a=!0,S||(C=ge(ne,"resize",t[21]),S=!0)},p(s,c){l&&l.p&&(!a||c[0]&524288)&&X(l,h,s,s[19],a?Z(h,s[19],c,we):Y(s[19]),oe),(!a||c[0]&48&&f!==(f=""+(s[5]+s[4])))&&O(e,"style",f),i&&i.p&&(!a||c[0]&524288)&&X(i,b,s,s[19],a?Z(b,s[19],c,Ee):Y(s[19]),te)},i(s){a||($(l,s),$(i,s),a=!0)},o(s){ee(l,s),ee(i,s),a=!1},d(s){s&&x(n),l&&l.d(s),t[22](null),i&&i.d(s),t[23](null),t[24](null),S=!1,C()}}}const d=[];let z;if(typeof window!="undefined"){const t=()=>d.forEach(n=>n());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver!="undefined"){const t=new Map,n=new IntersectionObserver((e,r)=>{e.forEach(f=>{const _=t.get(f.target),u=d.indexOf(_);f.isIntersecting?u===-1&&d.push(_):(_(),u!==-1&&d.splice(u,1))})},{rootMargin:"400px 0px"});z={add:({outer:e,update:r})=>{const{top:f,bottom:_}=e.getBoundingClientRect();f<window.innerHeight&&_>0&&d.push(r),t.set(e,r),n.observe(e)},remove:({outer:e,update:r})=>{const f=d.indexOf(r);f!==-1&&d.splice(f,1),t.delete(e),n.unobserve(e)}}}else z={add:({update:t})=>{d.push(t)},remove:({update:t})=>{const n=d.indexOf(t);n!==-1&&d.splice(n,1)}};function ke(t,n,e){let r,f,_,u,a,{$$slots:S={},$$scope:C}=n,{top:h=0}=n,{bottom:l=1}=n,{threshold:b=.5}=n,{query:i="section"}=n,{parallax:s=!1}=n,{index:c=0}=n,{count:m=0}=n,{offset:y=0}=n,{progress:g=0}=n,{visible:A=!1}=n,L,E,M,H,v,w=0,R,B=0,D=1;he(()=>{v=E.querySelectorAll(i),e(7,m=v.length),I();const o={outer:L,update:I};return z.add(o),()=>z.remove(o)});function I(){if(!E)return;const o=L.getBoundingClientRect();H=o.left,e(18,D=o.right-H);const k=E.getBoundingClientRect(),K=M.getBoundingClientRect();e(10,A=k.top<w&&k.bottom>0);const U=k.bottom-k.top,F=K.bottom-K.top,V=f-r;e(9,g=(r-k.top)/(U-V)),g<=0?(e(17,B=0),e(16,R=!1)):g>=1?(e(17,B=s?U-F:U-V),e(16,R=!1)):(e(17,B=s?Math.round(r-g*(F-V)):r),e(16,R=!0));for(let j=0;j<v.length;j++){const ce=v[j],{top:P}=ce.getBoundingClientRect(),J=v[j+1],Q=J?J.getBoundingClientRect().top:k.bottom;if(e(8,y=(_-P)/(Q-P)),Q>=_){e(6,c=j);break}}}function se(){e(0,w=ne.innerHeight)}function re(o){G[o?"unshift":"push"](()=>{M=o,e(3,M)})}function le(o){G[o?"unshift":"push"](()=>{E=o,e(2,E)})}function ie(o){G[o?"unshift":"push"](()=>{L=o,e(1,L)})}return t.$$set=o=>{"top"in o&&e(11,h=o.top),"bottom"in o&&e(12,l=o.bottom),"threshold"in o&&e(13,b=o.threshold),"query"in o&&e(14,i=o.query),"parallax"in o&&e(15,s=o.parallax),"index"in o&&e(6,c=o.index),"count"in o&&e(7,m=o.count),"offset"in o&&e(8,y=o.offset),"progress"in o&&e(9,g=o.progress),"visible"in o&&e(10,A=o.visible),"$$scope"in o&&e(19,C=o.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2049&&(r=Math.round(h*w)),t.$$.dirty[0]&4097&&(f=Math.round(l*w)),t.$$.dirty[0]&8193&&(_=Math.round(b*w)),t.$$.dirty[0]&47104&&I(),t.$$.dirty[0]&196608&&e(5,u=`
		position: ${R?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${B}px);
		z-index: 1;
	`),t.$$.dirty[0]&327680&&e(4,a=R?`width:${D}px;`:"")},[w,L,E,M,a,u,c,m,y,g,A,h,l,b,i,s,R,B,D,C,S,se,re,le,ie]}class Le extends be{constructor(n){super(),me(this,n,ke,Re,fe,{top:11,bottom:12,threshold:13,query:14,parallax:15,index:6,count:7,offset:8,progress:9,visible:10},null,[-1,-1])}}export{Le as S};
