import{s as fe,B as ue,M as W,f as M,a as _e,g as T,h as q,d as p,c as de,aa as O,i as ae,x as N,D as ge,N as X,O as Y,P as Z,o as he,p as G}from"./scheduler.08a6b99a.js";import{S as be,i as me,a as $,t as ee}from"./index.3eb2df86.js";const ye=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;const{window:ne}=ye,we=t=>({}),te=t=>({}),Ee=t=>({}),oe=t=>({});function Re(t){let n,e,l,f,_,u,d,S,C;ue(t[21]);const h=t[20].background,r=W(h,t,t[19],oe),b=t[20].foreground,i=W(b,t,t[19],te);return{c(){n=M("svelte-scroller-outer"),e=M("svelte-scroller-background-container"),l=M("svelte-scroller-background"),r&&r.c(),_=_e(),u=M("svelte-scroller-foreground"),i&&i.c(),this.h()},l(s){n=T(s,"SVELTE-SCROLLER-OUTER",{class:!0});var c=q(n);e=T(c,"SVELTE-SCROLLER-BACKGROUND-CONTAINER",{class:!0,style:!0});var m=q(e);l=T(m,"SVELTE-SCROLLER-BACKGROUND",{class:!0});var y=q(l);r&&r.l(y),y.forEach(p),m.forEach(p),_=de(c),u=T(c,"SVELTE-SCROLLER-FOREGROUND",{class:!0});var g=q(u);i&&i.l(g),g.forEach(p),c.forEach(p),this.h()},h(){O(l,"class","svelte-1yjh2jm"),O(e,"class","background-container svelte-1yjh2jm"),O(e,"style",f=""+(t[5]+t[4])),O(u,"class","svelte-1yjh2jm"),O(n,"class","svelte-1yjh2jm")},m(s,c){ae(s,n,c),N(n,e),N(e,l),r&&r.m(l,null),t[22](l),N(n,_),N(n,u),i&&i.m(u,null),t[23](u),t[24](n),d=!0,S||(C=ge(ne,"resize",t[21]),S=!0)},p(s,c){r&&r.p&&(!d||c[0]&524288)&&X(r,h,s,s[19],d?Z(h,s[19],c,Ee):Y(s[19]),oe),(!d||c[0]&48&&f!==(f=""+(s[5]+s[4])))&&O(e,"style",f),i&&i.p&&(!d||c[0]&524288)&&X(i,b,s,s[19],d?Z(b,s[19],c,we):Y(s[19]),te)},i(s){d||($(r,s),$(i,s),d=!0)},o(s){ee(r,s),ee(i,s),d=!1},d(s){s&&p(n),r&&r.d(s),t[22](null),i&&i.d(s),t[23](null),t[24](null),S=!1,C()}}}const a=[];let z;if(typeof window!="undefined"){const t=()=>a.forEach(n=>n());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver!="undefined"){const t=new Map,n=new IntersectionObserver((e,l)=>{e.forEach(f=>{const _=t.get(f.target),u=a.indexOf(_);f.isIntersecting?u===-1&&a.push(_):(_(),u!==-1&&a.splice(u,1))})},{rootMargin:"400px 0px"});z={add:({outer:e,update:l})=>{const{top:f,bottom:_}=e.getBoundingClientRect();f<window.innerHeight&&_>0&&a.push(l),t.set(e,l),n.observe(e)},remove:({outer:e,update:l})=>{const f=a.indexOf(l);f!==-1&&a.splice(f,1),t.delete(e),n.unobserve(e)}}}else z={add:({update:t})=>{a.push(t)},remove:({update:t})=>{const n=a.indexOf(t);n!==-1&&a.splice(n,1)}};function ke(t,n,e){let l,f,_,u,d,{$$slots:S={},$$scope:C}=n,{top:h=0}=n,{bottom:r=1}=n,{threshold:b=.5}=n,{query:i="section"}=n,{parallax:s=!1}=n,{index:c=0}=n,{count:m=0}=n,{offset:y=0}=n,{progress:g=0}=n,{visible:A=!1}=n,L,w,x,H,v,E=0,R,B=0,D=1;he(()=>{v=w.querySelectorAll(i),e(7,m=v.length),I();const o={outer:L,update:I};return z.add(o),()=>z.remove(o)});function I(){if(!w)return;const o=L.getBoundingClientRect();H=o.left,e(18,D=o.right-H);const k=w.getBoundingClientRect(),K=x.getBoundingClientRect();e(10,A=k.top<E&&k.bottom>0);const U=k.bottom-k.top,F=K.bottom-K.top,V=f-l;e(9,g=(l-k.top)/(U-V)),g<=0?(e(17,B=0),e(16,R=!1)):g>=1?(e(17,B=s?U-F:U-V),e(16,R=!1)):(e(17,B=s?Math.round(l-g*(F-V)):l),e(16,R=!0));for(let j=0;j<v.length;j++){const ce=v[j],{top:P}=ce.getBoundingClientRect(),J=v[j+1],Q=J?J.getBoundingClientRect().top:k.bottom;if(e(8,y=(_-P)/(Q-P)),Q>=_){e(6,c=j);break}}}function se(){e(0,E=ne.innerHeight)}function le(o){G[o?"unshift":"push"](()=>{x=o,e(3,x)})}function re(o){G[o?"unshift":"push"](()=>{w=o,e(2,w)})}function ie(o){G[o?"unshift":"push"](()=>{L=o,e(1,L)})}return t.$$set=o=>{"top"in o&&e(11,h=o.top),"bottom"in o&&e(12,r=o.bottom),"threshold"in o&&e(13,b=o.threshold),"query"in o&&e(14,i=o.query),"parallax"in o&&e(15,s=o.parallax),"index"in o&&e(6,c=o.index),"count"in o&&e(7,m=o.count),"offset"in o&&e(8,y=o.offset),"progress"in o&&e(9,g=o.progress),"visible"in o&&e(10,A=o.visible),"$$scope"in o&&e(19,C=o.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2049&&(l=Math.round(h*E)),t.$$.dirty[0]&4097&&(f=Math.round(r*E)),t.$$.dirty[0]&8193&&(_=Math.round(b*E)),t.$$.dirty[0]&47104&&I(),t.$$.dirty[0]&196608&&e(5,u=`
		position: ${R?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${B}px);
		z-index: 1;
	`),t.$$.dirty[0]&327680&&e(4,d=R?`width:${D}px;`:"")},[E,L,w,x,d,u,c,m,y,g,A,h,r,b,i,s,R,B,D,C,S,se,le,re,ie]}class Ce extends be{constructor(n){super(),me(this,n,ke,Re,fe,{top:11,bottom:12,threshold:13,query:14,parallax:15,index:6,count:7,offset:8,progress:9,visible:10},null,[-1,-1])}}export{Ce as S,ye as g};
